---
import Socials from "@/components/Socials.astro";
import { SOCIALS } from "@/constants";
import { Image } from "astro:assets";
import { SITE } from "@/config";
import LinkButton from "./LinkButton.astro";

const iconURL = new URL(`/${SITE.icon}`, Astro.url);
---

<div
  class="mt-8 mb-6 flex flex-col items-center justify-center gap-y-4 text-center sm:flex-row sm:justify-start sm:gap-x-8 sm:text-left"
>
  <LinkButton
    id="profile-button"
    href="/about"
    class="focus-outline flex hover:text-foreground/75"
  >
    <Image
      inferSize={true}
      src={iconURL.href}
      alt={SITE.author}
      class="aspect-auto w-32 flex-shrink-0"
    />
  </LinkButton>

  <div class="flex flex-col items-center sm:items-start">
    <h2 class="text-xl font-semibold tracking-wide">{SITE.author}</h2>
    <span class="opacity-80">{SITE.bio}</span>
    {
      // only display if at least one social link is enabled
      SOCIALS.length > 0 && (
        <div class="mt-2 flex flex-wrap justify-center gap-1 sm:justify-start">
          <Socials />
        </div>
      )
    }
  </div>
</div>
